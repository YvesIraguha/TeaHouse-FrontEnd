(this["webpackJsonpteahouse-frontend"]=this["webpackJsonpteahouse-frontend"]||[]).push([[0],{105:function(e,t,a){},106:function(e,t,a){},108:function(e,t,a){e.exports=a.p+"static/media/tea-house-logo.8a728e81.jpg"},116:function(e,t,a){e.exports=a.p+"static/media/email.51c44790.svg"},117:function(e,t,a){e.exports=a.p+"static/media/location.50bc3871.svg"},118:function(e,t,a){e.exports=a.p+"static/media/phone-call.9e1788e9.svg"},119:function(e,t,a){e.exports=a.p+"static/media/books-stack-of-three.17f5a986.svg"},120:function(e,t,a){e.exports=a.p+"static/media/reading.2cef3e94.svg"},121:function(e,t,a){e.exports=a.p+"static/media/short.06808a74.svg"},122:function(e,t,a){e.exports=a.p+"static/media/folder.67c465e1.svg"},123:function(e,t,a){e.exports=a.p+"static/media/submissions.7a7d00bb.svg"},124:function(e,t,a){e.exports=a.p+"static/media/rules.abe3b8d7.svg"},125:function(e,t,a){e.exports=a.p+"static/media/scroll.54823090.svg"},128:function(e,t,a){e.exports=a.p+"static/media/undraw_no_data_qbuo.ca0dc940.svg"},144:function(e,t,a){e.exports=a(237)},149:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},209:function(e,t){},229:function(e,t,a){},230:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},237:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),i=a.n(o),l=(a(149),a(12)),s=a(132),c=a(284),u=a(18),m=a(36),p=a(16),d=a(272),E=a(274),h=a(276),f=a(275),b=a(287),v=a(285),g=a(115),S=a.n(g),y=a(277),O=a(278),I=a(288),C=a(286),P=a(108),w=a.n(P),R=a(22),_=a(270),k=Object(_.a)((function(e){return{root:{flexGrow:1,backgroundColor:"rgb(37,37,37)",position:"fixed",top:0,zIndex:e.zIndex.drawer+1,width:"100%"},appBar:{backgroundColor:"white",color:"black"},menuButton:{borderRadius:0,marginRight:e.spacing(2),textTransform:"capitalize",fontSize:"1.09rem",borderBottom:"1px solid rgba(0,0,0,0)",fontWeight:"500",lineHeight:"1.6",letterSpacing:"0.0075em"},activeButton:{borderRadius:0,textTransform:"capitalize",borderBottom:"1px solid #fff",marginRight:e.spacing(2),fontSize:"1.09rem",fontWeight:"500",lineHeight:"1.6",letterSpacing:"0.0075em"},brandContainer:Object(R.a)({display:"flex",flexDirection:"row",alignItems:"center"},e.breakpoints.up("md"),{margin:e.spacing(0,5)}),brand:{flexFlow:1,color:e.palette.primary.light},logo:{width:e.spacing(3),height:e.spacing(3),marginRight:e.spacing(1)},sectionDesktop:Object(R.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"})}})),j=k,N=[{title:"TERMS AND POLICIES",link:"/directions"},{title:"SUBMIT",link:"/submissions"}],T=[{title:"STORIES",link:"/short-stories"},{title:"POEMS",link:"/poems"},{title:"ESSAYS",link:"/essays"},{title:"INTERVIEWS",link:"/interviews"},{title:"LIT NEWS",link:"/lit-news"},{title:"GOSSIPS",link:"/gossips"}],A=[{title:"BOOK SERIES",link:"/book-series"},{title:"issues",link:"/issues"}],x=function(){var e=Object(m.g)(),t=j(),a=Object(m.f)(),o=Object(n.useState)(null),i=Object(p.a)(o,2),l=i[0],s=i[1],c=Object(n.useState)(null),g=Object(p.a)(c,2),P=g[0],R=g[1],_=Object(n.useState)(null),k=Object(p.a)(_,2),x=k[0],L=k[1],U=Object(n.useState)(null),D=Object(p.a)(U,2),W=D[0],B=D[1],z=function(t){var a;return(null===(a=e.pathname)||void 0===a?void 0:a.split("/")[1])===t};return r.a.createElement("div",{className:t.root},r.a.createElement(d.a,{position:"static",className:t.appBar},r.a.createElement(E.a,null,r.a.createElement(C.a,{only:["lg","md","xl"]},r.a.createElement(f.a,{edge:"start",className:t.menuButton,color:"inherit","aria-controls":"links-menu","aria-haspopup":"true",onClick:function(e){return s(e.currentTarget)}},r.a.createElement(S.a,null)),r.a.createElement(v.a,{id:"links-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:function(){return s(null)}},["Submissions","Individual pieces","Collections"].map((function(e){return r.a.createElement(b.a,{key:e,selected:z(e)},r.a.createElement(h.a,{color:"inherit",component:u.b,to:"/".concat(e),key:e},e))})))),r.a.createElement("div",{className:t.brandContainer},r.a.createElement(I.a,{alt:"logo",src:w.a,className:t.logo})),r.a.createElement(y.a,{container:!0,justify:"flex-end",alignItems:"center"},r.a.createElement(y.a,{container:!0,item:!0,xs:6,className:t.sectionDesktop,spacing:3},r.a.createElement(y.a,{item:!0},r.a.createElement(O.a,{onClick:function(){return a.replace("/")}},"HOME")),r.a.createElement(y.a,{item:!0},r.a.createElement(O.a,{onClick:function(e){return L(e.currentTarget)}},"SUBMISSIONS"),r.a.createElement(v.a,{id:"links-menu",anchorEl:x,keepMounted:!0,open:Boolean(x),onClose:function(){return L(null)}},N.map((function(e){var t=e.title,a=e.link;return r.a.createElement(b.a,{key:t,selected:z(t)},r.a.createElement(h.a,{color:"inherit",component:u.b,to:"".concat(a),key:a},t))})))),r.a.createElement(y.a,{item:!0},r.a.createElement(O.a,{onClick:function(e){return R(e.currentTarget)}},"INDIVIDUAL PIECES"),r.a.createElement(v.a,{id:"links-menu",anchorEl:P,keepMounted:!0,open:Boolean(P),onClose:function(){return R(null)}},T.map((function(e){var t=e.title,a=e.link;return r.a.createElement(b.a,{key:t,selected:z(t)},r.a.createElement(h.a,{color:"inherit",component:u.b,to:"".concat(a),key:a},t))})))),r.a.createElement(y.a,{item:!0},r.a.createElement(O.a,{onClick:function(e){return B(e.currentTarget)}},"COLLECTIONS"),r.a.createElement(v.a,{id:"links-menu",anchorEl:W,keepMounted:!0,open:Boolean(W),onClose:function(){return B(null)}},A.map((function(e){var t=e.title,a=e.link;return r.a.createElement(b.a,{key:t,selected:z(t)},r.a.createElement(h.a,{color:"inherit",component:u.b,to:"".concat(a),key:a},t))})))))))))},L=function(e){var t=e.title,a=e.image,n=e.link;return r.a.createElement("div",{className:"list_item row"},r.a.createElement("img",{src:a,alt:"Arrow"}),n?r.a.createElement(u.b,{to:n},t):r.a.createElement("p",null,t))},U=function(e){var t=e.firstItem,a=e.secondItem,n=e.thirdItem;return r.a.createElement("div",null,r.a.createElement(L,t),r.a.createElement(L,a),r.a.createElement(L,n))},D=(a(160),a(116)),W=a.n(D),B=a(117),z=a.n(B),M=a(118),H=a.n(M),Q=a(119),G=a.n(Q),V=a(120),Z=a.n(V),q=a(121),F=a.n(q),Y=a(122),$=a.n(Y),J=a(123),K=a.n(J),X=a(124),ee=a.n(X),te=function(){return r.a.createElement("div",{className:"footer row"},r.a.createElement(U,{firstItem:{title:"Guidelines",image:ee.a,link:"/directions"},secondItem:{title:"Submissions",image:K.a,link:"/submissions"},thirdItem:{title:"Collections",image:$.a,link:"/book-series"}}),r.a.createElement(U,{firstItem:{title:"Stories",image:F.a,link:"/short-stories"},secondItem:{title:"Poems",image:Z.a,link:"/poems"},thirdItem:{title:"Book series",image:G.a,link:"/book-series"}}),r.a.createElement(U,{firstItem:{title:"joedoe@gmail.com",image:W.a},secondItem:{title:"Kigali, Rwanda",image:z.a},thirdItem:{title:"+250780093893",image:H.a}}))},ae=a(9),ne=a(10),re=a(13),oe=a(11),ie=a(14),le=function(e){var t=e.title,a=e.body;return r.a.createElement("div",{className:"mission_vision"},r.a.createElement("div",null,r.a.createElement("h2",null,t),r.a.createElement("p",null,r.a.createElement("i",null,'"',a,'"'))))},se=function(){return r.a.createElement("div",{className:"row"},r.a.createElement(le,{title:"Our Mission",body:"We are on a mission of exhibiting Rwandan literature with the finest literary and artistic merit that also incites a social change."}),r.a.createElement(le,{title:"Our Vision",body:"We have a vision of exhibiting at least ten finest emerging writers each year and publishing one issue per year."}))},ce=(a(161),a(125)),ue=a.n(ce),me=function(e){function t(){return Object(ae.a)(this,t),Object(re.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ie.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home__container"},r.a.createElement("div",{className:"image-box"},r.a.createElement("div",{className:"image-box__background"}),r.a.createElement("div",{className:"image-box__overlay"}),r.a.createElement("div",{className:"image-box__content"},r.a.createElement("h3",null,"Exhibiting Works of Rwandan Writers"))),r.a.createElement("div",{className:"description"},r.a.createElement("div",{id:"about"},r.a.createElement("h1",{className:"about_section__title"},"About"),r.a.createElement("p",null,"In the eighteenth century, a tea house would be a forum for intellectual encounters. They would read books and circulate magazines, talk about ideas, discoveries, and science while drinking their tea."),r.a.createElement("p",null,"In the same idea of a tea house, this magazine is a space where Rwandan writers meet to produce and discuss creative works. We focus on contemporary literature in the form of short stories, poems, essays, and poetry chapbooks."))),r.a.createElement("div",{className:"scroll__icon"},r.a.createElement("img",{src:ue.a,alt:"Project icon"})),r.a.createElement("div",{className:"mission_vision__container"},r.a.createElement(se,null)),r.a.createElement("div",{className:"team_members__section"},r.a.createElement("h1",null,"TEAHOUSE TEAM"),r.a.createElement("div",{className:"team_member__image"},r.a.createElement("img",{src:"https://images.unsplash.com/photo-1455274111113-575d080ce8cd?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60",alt:""})),r.a.createElement("h2",null,"Joe Doe"),r.a.createElement("h3",null,"Founder & Reviewer"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin eu quisque ullamcorper pulvinar cursus nascetur sem faucibus urna. Nibh proin viverra in non.")))}}]),t}(n.Component),pe=me,de=(a(162),function(){return r.a.createElement("div",null,r.a.createElement("p",null,"An essay or a short story must be the original, unpublished work of the author."),r.a.createElement("p",null,"Submit an essay or a short story of between 2,000 and 5,000 words."),r.a.createElement("p",null,"An essay or a short story can be about any theme or themes of your choice."),r.a.createElement("p",null,"Submit an essay or a short story at once, and wait until two months before you submit another."),r.a.createElement("p",null,"An essay or a short story must be a standard, 12-point font in Times New Roman and sent as an attachment."),r.a.createElement("p",null,"Simultaneous submissions are allowed, but do email us immediately if your work is accepted elsewhere so we can remove it from consideration."),r.a.createElement("p",null,"A short bio statement should appear at the bottom of your submission."))}),Ee=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Each poem must be the original, unpublished work of the author."),r.a.createElement("p",null,"Submit between one to three poems at a time."),r.a.createElement("p",null,"Your submission should be about one theme of your choice."),r.a.createElement("p",null,"They must be a standard 12-point Times New Roman font and sent in one word document as an attachment."),r.a.createElement("p",null,"Send one submission at once and wait until two months for you to submit again."),r.a.createElement("p",null,"Simultaneous submissions are allowed, but do email us immediately if your work is accepted elsewhere so we can remove it from consideration"),r.a.createElement("p",null,"A short bio statement should appear in the body of your email."))},he=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"A manuscript should be between 25 and 30 pages, not including title page, acknowledgments, table of contents, etc. The entire manuscript must be single-spaced and in 12-point Times New Roman font. Do not use colors."),r.a.createElement("p",null,"Each poem should begin on a new page."),r.a.createElement("p",null,"A manuscript should be attached to an email."),r.a.createElement("p",null,"The manuscript\u2019s name, the author\u2019s name, his nationality, address, and phone number must appear in the body of the email."),r.a.createElement("p",null,"After submitting, wait for a period of two to three months to hear from us."),r.a.createElement("p",null,"Note that once accepted, you can\u2019t make any alterations to your manuscripts."))},fe=function(){return r.a.createElement("div",{className:"submissions__container"},r.a.createElement("div",{className:"welcome__section"},r.a.createElement("h1",null,"Welcome to Teahouse"),r.a.createElement("p",null,"The Tea House accepts submissions via our"," ",r.a.createElement(u.b,{to:"/submissions"},"submission form "),". All submissions must be in English. To submit, follow the guidelines below.")),r.a.createElement("h1",null,"Submitting an Individual Piece"),r.a.createElement("h2",null,"Essays or short stories"),r.a.createElement(de,null),r.a.createElement("h2",null,"Poems"),r.a.createElement(Ee,null),r.a.createElement("h1",null," Submitting a Collection"),r.a.createElement("p",null,"Each poem in a chapbook must be the original work of the author. Individual poems might be previously published or unpublished, but the whole chapbook must have not been published elsewhere before."),r.a.createElement(he,null),r.a.createElement("h1",null," Submitting for an Issue"),r.a.createElement("p",null,"Our issues will be tentatively an annual themed issue. Currently, there is no call for submission."),r.a.createElement("h1",null,"Gossiping while Sipping on Tea!"),r.a.createElement("p",null,"This is a section for gossip! It captures interesting news from the mainstream, boils it in a kettle, and serves it in mugs like tea. Welcome to the tea house! [Translation: These will be blog posts in the form of short plays. We will pick up interesting stories from around the Rwandan mainstream, and imagine them in a fictionalized way, then create out of them our own stories. With the photographic law that in public there is no privacy, we may decide to use in our plays the original names of the individuals involved in the news stories we pick, or mention the news story and then create our own fictionalized names. The series will be run by the editor or anyone who is interested, who, if so, should submit their play via the usual submissions form.]"))},be=a(3),ve=(a(163),function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).state={value:"",errors:{}},a.onInputChange=function(e){var t=e.target,n=t.value,r=t.name,o=a.props.onChangeHandler;a.setState({value:n}),o(r,n)},a}return Object(ie.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.title,o=t.error,i=this.state.value;return r.a.createElement("div",{className:"column input-container"},r.a.createElement("div",{className:"column"},r.a.createElement("p",{className:"input_title"},n),r.a.createElement("input",{type:a,name:a,className:"input ".concat(o?"error_input":""),value:i,onChange:function(t){return e.onInputChange(t)}})),r.a.createElement("div",{className:"error"},r.a.createElement("span",null,o)))}}]),t}(n.Component)),ge=ve,Se=(a(164),a(165),function(e){var t=e.title,a=e.onClick,n=e.disabled,o=e.className;return r.a.createElement("button",{className:"btn ".concat(o),onClick:a,disabled:n},t)}),ye=a(7),Oe=a.n(ye),Ie=a(126),Ce=a.n(Ie),Pe=Ce.a.create({baseURL:"http://localhost:5000/api/v1"}),we=Pe,Re=function(e,t,a,n){if(t.response)switch(n({type:e,payload:{error:t.response.data.error}}),t.response.status){case 500:a.push({pathname:"/not-found",state:{error:"Internal server error",statusCode:500}});break;case 404:a.push({pathname:"/not-found",state:{error:"We can't seem to find that",statusCode:404}});break;case 403:a.push({pathname:"/not-found",state:{error:"Permission denied",statusCode:403}});break;case 401:a.push({pathname:"/not-found",state:{error:"Unauthenticated, please login",statusCode:401}});break;case 400:a.push({pathname:"/not-found",state:{error:"Invalid input",statusCode:400}});break;default:a.push({pathname:"/not-found",state:{error:"We can't seem to find that",statusCode:404}})}else n({type:e,payload:{error:t.message}}),a.push({pathname:"/not-found",state:{error:"We can't seem to find that",statusCode:404}})},_e=function(e){return e?/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)?{error:null}:{error:"Provide a valid email"}:{error:"Provide an email"}},ke=function(e){var t=/^[a-zA-Z]+(([',. -][a-zA-Z ])?[a-zA-Z]*)*$/,a=null;return e?(e.split(" ").map((function(e){if(!t.test(e))return{error:a="Invalid name"}})),{error:a}):{error:a="Provide a full name"}},je=function(e){return e?{error:null}:{error:"Please select a file"}},Ne=function(e){return/^[a-zA-Z0-9!@#$%^&*()]{3,30}$/.test(e)?{error:null}:{error:"Password should have special characters,numbers, and letters"}},Te=function(e,t){var a=_e(e).error,n=Ne(t).error;return a?{email:a}:n?{password:n}:null},Ae=function(e){return!e||e.length<=14?{error:"Title should be more than 14 characters long."}:{error:null}},xe=function(e,t,a){var n=Ae(t).error,r=function(e){return e.length>=100?{error:null}:{error:"Content should be more than 100 characters long"}}(e).error,o=ke(a).error;return n?{title:n}:r?{content:r}:o?{author:o}:null},Le=function(e,t,a){var n=je(a).error,r=_e(t).error,o=ke(e).error;return n?{file:n}:r?{email:r}:o?{fullName:o}:null},Ue=a(50),De=function(e){var t,a;return e.error?(a=e.error,void Ue.b.error(a)):e.message?(t=e.message,void Ue.b.success(t)):void 0},We=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).state={errors:{}},a.onInputChangeHandler=function(e,t){a.setState(Object(R.a)({},e,t))},a.onSubmit=function(){var e=a.props,t=e.SubmitLoginCredentials,n=e.history,r=a.state,o=r.email,i=r.password,l=Te(o,i);if(l)return a.setState({errors:Object(be.a)({},l)});t(o,i,n)},a.componentWillReceiveProps=function(e){var t=e.login;t.submissionResponse&&t.submissionResponse!==a.props.login.submissionResponse&&De(t.submissionResponse)},a}return Object(ie.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.state.errors,t=this.props.login.apiInProgress;return r.a.createElement("div",{className:"login_container column"},r.a.createElement("div",{className:"login_content"},r.a.createElement("p",{className:"title"},"Sign in for admin privileges"),r.a.createElement(ge,{title:"Email",name:"email",error:e.email,onChangeHandler:this.onInputChangeHandler}),r.a.createElement(ge,{title:"Password",name:"password",error:e.password,onChangeHandler:this.onInputChangeHandler}),r.a.createElement(Se,{title:"Sign in",onClick:this.onSubmit,disabled:t}),r.a.createElement("p",null,r.a.createElement(u.b,{to:"/reset-password",className:"forgot_password"},"Forgot password?"))))}}]),t}(n.Component),Be=Object(l.b)((function(e){return{login:e.login}}),(function(e){return{SubmitLoginCredentials:function(t,a,n){return e(function(e,t,a){return function(n){var r;return Oe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,n({type:"LOGIN_REQUEST"}),o.next=4,Oe.a.awrap(we.post("/auth/login",{email:e,password:t}));case 4:r=o.sent,i=r.data.token,localStorage.setItem("token",i),n({type:"LOGIN_SUCCESS",payload:r.data}),a.replace("/admin"),o.next=13;break;case 10:o.prev=10,o.t0=o.catch(0),Re("LOGIN_ERROR",o.t0,a,n);case 13:case"end":return o.stop()}var i}),null,null,[[0,10]])}}(t,a,n))}}}))(We),ze=a(133),Me=(a(183),a(184),function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).state={value:"",errors:{}},a.onInputChange=function(e){var t=e.target,n=t.value,r=t.name,o=a.props.onSelectorChange;a.setState({value:n}),o(r,n)},a}return Object(ie.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this,t=this.props.options,a=this.state.value;return r.a.createElement("div",{className:"selector"},r.a.createElement("p",null,"Type"),r.a.createElement("select",{name:"type",value:a,onChange:function(t){return e.onInputChange(t)},className:"selector_button"},t.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))))}}]),t}(n.Component)),He="http://localhost:5000/api/v1",Qe=function(e,t){return function(a){var n;return Oe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:"INDIVIDUAL_PIECE_REQUEST"}),r.next=4,Oe.a.awrap(we.get("/individual-pieces/".concat(e)));case 4:return n=r.sent,a({type:"INDIVIDUAL_PIECE_SUCCESS",payload:n.data}),r.abrupt("return",n);case 9:r.prev=9,r.t0=r.catch(0),Re("INDIVIDUAL_PIECE_ERROR",r.t0,t,a);case 12:case"end":return r.stop()}}),null,null,[[0,9]])}},Ge=function(e){var t=e.value,a=e.errors,n=e.placeholder,o=e.name,i=e.onChange;return r.a.createElement("div",{className:"create_piece_input"},r.a.createElement("input",{type:"text",placeholder:n,name:o,value:t,onChange:i}),r.a.createElement("span",{className:"error"},a[o]))},Ve={height:500,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount","autoresize"],toolbar:"undo redo | fontselect fontsizeselect formatselect | bold italic underline backcolor |   alignleft aligncenter alignright alignjustify |   bullist numlist outdent indent | removeformat | help"},Ze=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).state={content:"",title:"",type:"Short story",author:"",errors:{},editMode:!1},a.componentDidMount=function(){var e,t,n,r,o,i,l,s,c,u;return Oe.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(e=a.props,t=e.fetchIndividualPiece,n=e.match.params.id,r=e.history,!n){m.next=7;break}return m.next=4,Oe.a.awrap(t(n,r));case 4:o=m.sent,i=o.data.individualPiece,l=i.title,s=i.type,c=i.body,u=i.author,a.setState({title:l,type:s,author:u,editMode:!0,content:c});case 7:case"end":return m.stop()}}))},a.handleEditorChange=function(e){a.setState({content:e})},a.onInputChange=function(e,t){a.setState(Object(R.a)({},e,t))},a.onSubmit=function(){var e=a.state,t=e.content,n=e.title,r=e.type,o=e.author,i=e.editMode,l=a.props,s=l.submitStoryOrPoem,c=l.editPiece,u=l.history,m=l.match.params.id,p=xe(t,n,o);return p?a.setState({errors:Object(be.a)({},p)}):i?c(m,t,n,r,o,u):void s(t,n,r,o,u)},a.componentWillReceiveProps=function(e){var t=e.createStoryPoem;t.creationResponse&&t.creationResponse!==a.props.createStoryPoem.creationResponse&&De(t.creationResponse)},a}return Object(ie.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.content,n=t.title,o=t.errors,i=t.author,l=t.editMode,s=t.type,c=this.props.createStoryPoem.apiInProgress;return r.a.createElement("div",{className:"create-story-container"},r.a.createElement(Ge,{placeholder:"Title goes here",name:"title",value:n,onChange:function(t){return e.onInputChange(t.target.name,t.target.value)},errors:o}),r.a.createElement(Ge,{placeholder:"Author's name goes here",name:"author",value:i,onChange:function(t){return e.onInputChange(t.target.name,t.target.value)},errors:o}),r.a.createElement(Me,{onSelectorChange:this.onInputChange,value:s,options:["Short story","Poem"]}),r.a.createElement("p",{className:"error"},o.content),r.a.createElement(ze.a,{value:a,init:Ve,onEditorChange:this.handleEditorChange}),r.a.createElement(Se,{title:l?"Save":"Publish",disabled:c,onClick:this.onSubmit,className:"btn-publish"}))}}]),t}(n.Component),qe=Object(l.b)((function(e){return{createStoryPoem:e.createStoryPoem}}),(function(e){return{submitStoryOrPoem:function(t,a,n,r,o){return e(function(e,t,a,n,r){return function(o){var i,l;return Oe.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i=localStorage.getItem("token"),o({type:"CREATION_REQUEST"}),s.next=5,Oe.a.awrap(we.post("".concat(He,"/individual-pieces"),{body:e,title:t,author:n,type:a},{headers:{Authorization:"Bearer ".concat(i)}}));case 5:l=s.sent,o({type:"CREATION_SUCCESS",payload:l.data}),r.push("/individual-pieces/".concat(l.data.individualPiece.id)),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(0),Re("CREATION_ERROR",s.t0,r,o);case 13:case"end":return s.stop()}}),null,null,[[0,10]])}}(t,a,n,r,o))},editPiece:function(t,a,n,r,o,i){return e(function(e,t,a,n,r,o){return function(i){var l,s;return Oe.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,l=localStorage.getItem("token"),i({type:"EDIT_PIECE_REQUEST"}),c.next=5,Oe.a.awrap(we.put("".concat("http://localhost:5000/api/v1","/individual-pieces/").concat(e),{body:t,title:a,author:r,type:n},{headers:{Authorization:"Bearer ".concat(l)}}));case 5:s=c.sent,i({type:"EDIT_PIECE_SUCCESS",payload:s.data}),o.replace("/individual-pieces/".concat(e)),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),Re("EDIT_PIECE_ERROR",c.t0,o,i);case 13:case"end":return c.stop()}}),null,null,[[0,10]])}}(t,a,n,r,o,i))},fetchIndividualPiece:function(t,a){return e(Qe(t,a))}}}))(Ze),Fe=(a(90),a(127)),Ye=a.n(Fe),$e=function(e){return Ye()(e)},Je=function(e){function t(){return Object(ae.a)(this,t),Object(re.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(ie.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props,t=e.piece,a=t.title,n=t.author,o=t.body,i=t.id,l=e.onClick;return r.a.createElement("div",{className:"story-card",onClick:function(){return l(i)}},r.a.createElement("div",{className:"story-head"},r.a.createElement("h3",null,n.toUpperCase()),r.a.createElement("div",{className:"head-separator"}),r.a.createElement("h3",null,a.toUpperCase())),r.a.createElement("div",{className:"story-content"},$e(o.slice(0,150))))}}]),t}(n.Component),Ke=a(35),Xe=a(28),et=function(e){var t=e.onClick,a=e.currentPage,n=e.totalPages;return r.a.createElement("div",{className:"page-number-container"},a>1?r.a.createElement(Ke.a,{icon:Xe.c,size:"lg",onClick:function(){return t(-1)}}):null,r.a.createElement("span",{className:"page-number"},a,"/",n),a<n?r.a.createElement(Ke.a,{icon:Xe.d,size:"lg",onClick:function(){return t(1)}}):null)},tt=function(e,t,a){return function(n){var r;return Oe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,n({type:"ALL_PIECES_REQUEST"}),o.next=4,Oe.a.awrap(we.get("/individual-pieces?page=".concat(e,"&type=").concat(t)));case 4:r=o.sent,n({type:"ALL_PIECES_SUCCESS",payload:r.data}),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),Re("ALL_PIECES_ERROR",o.t0,a,n);case 11:case"end":return o.stop()}}),null,null,[[0,8]])}},at=a(37),nt=a.n(at),rt=function(){return r.a.createElement("div",{className:"story-card"},r.a.createElement(at.SkeletonTheme,{color:"rgba(177,177,177,0.1)",highlightColor:"rgba(177,177,177,0.15)"},r.a.createElement("h3",{className:"story"},r.a.createElement(nt.a,{count:2})),r.a.createElement("p",null,r.a.createElement(nt.a,{count:3}))))},ot=function(){return r.a.createElement("div",{className:"stories-list row"},r.a.createElement(rt,null),r.a.createElement(rt,null),r.a.createElement(rt,null),r.a.createElement(rt,null),r.a.createElement(rt,null),r.a.createElement(rt,null),r.a.createElement(rt,null),r.a.createElement(rt,null),r.a.createElement(rt,null))},it=(a(229),a(128)),lt=a.n(it),st=function(){return r.a.createElement("div",{className:"empty-data__container row"},r.a.createElement("img",{src:lt.a,alt:""}),r.a.createElement("div",null,r.a.createElement("h6",null,"Ooops! There are no pieces to show on this page"),r.a.createElement("p",null,"You can ",r.a.createElement(u.b,{to:"/directions"},"submit")," a piece to be reviewed by admin, and then, be published on this platform.")))},ct=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).state={page:1},a.componentDidMount=function(){var e=a.props,t=e.fetchAllPieces,n=e.location.pathname,r=e.history;t(a.state.page,"/poems"===n?"Poem":"Short story",r)},a.componentWillReceiveProps=function(e){var t=e.location.pathname,n=e.history,r=a.props.fetchAllPieces;t!==a.props.location.pathname&&r(1,"/poems"===t?"Poem":"Short story",n)},a.loadMorePieces=function(e){var t=a.props,n=t.fetchAllPieces,r=t.location.pathname,o=t.history,i=a.state.page+e;n(i,"/poems"===r?"Poem":"Short story",o),a.setState({page:i})},a.fetchOnePiece=function(e){a.props.history.push("/individual-pieces/".concat(e))},a}return Object(ie.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this,t=this.props.allPieces,a=t.apiInProgress,n=t.allPiecesResponse,o=this.state.page;return r.a.createElement("div",{className:"story-poem-container"},a?r.a.createElement(ot,null):n&&n.data&&n.data.individualPieces.length?r.a.createElement("div",{className:"stories-list row"},n.data.individualPieces.map((function(t,a){return r.a.createElement(Je,{piece:t,key:t.id,onClick:e.fetchOnePiece})}))):r.a.createElement(st,null),n&&n.data&&n.data.totalPages?r.a.createElement(et,{onClick:this.loadMorePieces,currentPage:o,totalPages:n.data.totalPages}):null)}}]),t}(n.Component),ut=Object(l.b)((function(e){return{allPieces:e.allPieces}}),(function(e){return{fetchAllPieces:function(t,a,n){return e(tt(t,a,n))}}}))(ct),mt=(a(230),function(e){var t=e.location.state,a=(t=void 0===t?{}:t).error,n=t.statusCode;return r.a.createElement("div",{className:"not-found"},r.a.createElement("div",{className:"not-found__content"},r.a.createElement("h1",null," Whoops!"),r.a.createElement("h5",null,a||"We can't seem to find that"),r.a.createElement("p",null,"Try searching or go to ",r.a.createElement(u.b,{to:"/"},"TEAHOUSE home page"),"."),r.a.createElement("h2",{className:"status__code"},n||"404")))}),pt=(a(105),function(){return r.a.createElement("div",{className:"piece-container"},r.a.createElement("div",{className:"loading-content"},r.a.createElement(at.SkeletonTheme,{color:"rgba(177,177,177,0.1)",highlightColor:"rgba(177,177,177,0.15)"},r.a.createElement("h3",{className:"story"},r.a.createElement(nt.a,{count:2,width:500,height:10})),r.a.createElement("p",null,r.a.createElement(nt.a,{count:16,width:500,height:10})))))}),dt=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){var e=a.props;(0,e.fetchIndividualPiece)(e.match.params.id,e.history)},a}return Object(ie.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props,t=e.apiInProgress,a=e.individualPieceResponse;return r.a.createElement("div",{className:"piece-container"},t?r.a.createElement(pt,null):a&&a.individualPiece?r.a.createElement("div",{className:"piece-content"},r.a.createElement("div",{className:"story-head"},r.a.createElement("h3",null,a.individualPiece.author.toUpperCase()),r.a.createElement("div",{className:"head-separator"}),r.a.createElement("h3",null,a.individualPiece.title.toUpperCase())),r.a.createElement("div",{className:"piece-body"},$e(a.individualPiece.body))):null)}}]),t}(n.Component),Et=Object(l.b)((function(e){var t=e.individualPiece;return Object(be.a)({},t)}),(function(e){return{fetchIndividualPiece:function(t,a){return e(Qe(t,a))}}}))(dt),ht=(a(65),function(e){var t=e.title,a=e.onClick,n=e.type;return r.a.createElement("div",{className:"admin-navbar__item row",onClick:function(){return a(n)}},r.a.createElement(Ke.a,{icon:Xe.b,size:"lg",color:"rgba(0,0,0,0.25)"}),r.a.createElement("span",{className:"item__title"},t))}),ft=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).state={hideLinks:!0},a.showHideLinks=function(){var e=a.state.hideLinks;a.setState({hideLinks:!e})},a}return Object(ie.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.state.hideLinks;return r.a.createElement("div",{className:"new__piece"},r.a.createElement("ul",{className:"".concat(e?"hide__links":"display__links")},r.a.createElement("li",null,r.a.createElement(u.b,{to:"/create"},"New story/poem")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/createCollection"},"New book/issue"))),r.a.createElement("p",{onClick:this.showHideLinks,className:"".concat(e?"display__links":"hide__links")},"New piece"))}}]),t}(n.Component),bt={Poem:"POEMS","Short story":"SHORT STORIES",Issues:"ISSUES","Book series":"BOOK SERIES",Interview:"INTERVIEWS","Lit news":"LIT NEWS",Gossip:"GOSSIPS"},vt=function(e){return bt[e]},gt=a(279),St=a(280),yt=a(283),Ot=a(282),It=a(281),Ct=Object(_.a)({root:{width:345}}),Pt=function(e){e.createdAt;var t=e.title,a=e.id,n=e.body,o=e.onDeletePiece,i=e.onEditPiece,l=Ct();return r.a.createElement(gt.a,{className:l.root},r.a.createElement(St.a,null,r.a.createElement(It.a,{component:"img",alt:"Contemplative Reptile",height:"140",image:"https://picsum.photos/200",title:t}),r.a.createElement(Ot.a,null,r.a.createElement(O.a,{gutterBottom:!0,variant:"h5",component:"h2"},t),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",component:"p"},$e(n.slice(0,150))))),r.a.createElement(yt.a,null,r.a.createElement(h.a,{size:"small",color:"primary",onClick:function(){return i(a)}},"Edit"),r.a.createElement(h.a,{size:"small",color:"primary",onClick:function(){return o(a)}},"Delete")))},wt=Object(l.b)((function(e){return{allPieces:e.allPieces,deletedPiece:e.deletedPiece}}),(function(e){return{fetchAllPieces:function(t,a,n){return e(tt(t,a,n))},deleteStoryPoem:function(t,a){return e(function(e,t){return function(a){var n,r;return Oe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,a({type:"DELETE_PIECE_REQUEST"}),n=localStorage.getItem("token"),o.next=5,Oe.a.awrap(we.delete("".concat(He,"/individual-pieces/").concat(e),{headers:{Authorization:"Bearer ".concat(n)}}));case 5:r=o.sent,a({type:"DELETE_PIECE_SUCCESS",payload:r.data}),window.location.reload(),o.next=13;break;case 10:o.prev=10,o.t0=o.catch(0),Re("DELETE_PIECE_ERROR",o.t0,t,a);case 13:case"end":return o.stop()}}),null,null,[[0,10]])}}(t,a))}}}))((function(e){var t=e.fetchAllPieces,a=e.history,o=e.activeContent,i=e.deleteStoryPoem,l=e.deletedPiece,s=e.allPieces,c=Object(n.useState)(1),u=Object(p.a)(c,2),m=u[0],d=u[1];Object(n.useEffect)((function(){t(m,o,a)}),[o,m,t,a]);var E=function(e){i(e,a)};Object(n.useEffect)((function(){(null===l||void 0===l?void 0:l.deletePieceResponse)!==l.deletePieceResponse&&De(l.deletePieceResponse)}),[l]);var h=function(e){a.push("/individual-pieces/edit/".concat(e))},f=s.apiInProgress,b=s.allPiecesResponse,v=void 0===b?{}:b;return r.a.createElement("div",null,r.a.createElement("div",null,f?r.a.createElement(pt,null):v&&v.data&&v.data.individualPieces.length?r.a.createElement("div",null,r.a.createElement("h1",{className:"active-content__title"},vt(o)),r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,spacing:3},v.data.individualPieces.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12,md:4,lg:4},r.a.createElement(Pt,{createdAt:e.createdAt,title:e.title,body:e.body,id:e.id,onEditPiece:h,onDeletePiece:E,key:e.id}))}))))):r.a.createElement(st,null)),v&&v.data&&v.data.individualPieces?r.a.createElement(et,{onClick:function(e){var n=m+e;t(n,o,a),d(n)},currentPage:m,totalPages:v.data.totalPages}):null)})),Rt=function(e,t,a){return function(n){var r;return Oe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,n({type:"ALL_COLLECTIONS_REQUEST"}),o.next=4,Oe.a.awrap(we.get("/collections?page=".concat(e,"&type=").concat(t)));case 4:r=o.sent,n({type:"ALL_COLLECTIONS_SUCCESS",payload:r.data}),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),Re("ALL_COLLECTIONS_ERROR",o.t0,a,n);case 11:case"end":return o.stop()}}),null,null,[[0,8]])}},_t=a(129),kt=a.n(_t),jt=function(e){return kt()(e).format("MMMM D, YYYY")},Nt=Object(_.a)({root:{maxWidth:345}}),Tt=function(e){e.previewUrl,e.collectionUrl;var t=e.title,a=e.author,n=e.createdAt,o=Nt();return r.a.createElement(gt.a,{className:o.root},r.a.createElement(St.a,null,r.a.createElement(It.a,{component:"img",alt:"Contemplative Reptile",height:"140",image:"https://picsum.photos/200",title:t}),r.a.createElement(Ot.a,null,r.a.createElement(O.a,{gutterBottom:!0,variant:"h5",component:"h2"},t),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",component:"p"},"Author: ",a),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",component:"p"},"Published: ",jt(n)))),r.a.createElement(yt.a,null,r.a.createElement(h.a,{size:"small",color:"primary"},"View")))},At=Object(l.b)((function(e){return{allCollections:e.allCollections}}),(function(e){return{fetchAllCollections:function(t,a,n){return e(Rt(t,a,n))}}}))((function(e){var t,a,o=e.fetchAllCollections,i=e.history,l=e.activeContent,s=e.allCollections,c=Object(n.useState)(1),u=Object(p.a)(c,2),m=u[0],d=u[1];Object(n.useEffect)((function(){o(m,l,i)}),[l,m,o,i]);var E=s.apiInProgress,h=s.allCollectionsResponse,f=void 0===h?{}:h;return r.a.createElement("div",null,r.a.createElement("div",null,E?r.a.createElement(pt,null):(null===f||void 0===f?void 0:null===(t=f.data)||void 0===t?void 0:t.collections.length)?r.a.createElement("div",null,r.a.createElement("h1",{className:"active-content__title"},vt(l)),r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,spacing:3},f.data.collections.map((function(e){return r.a.createElement(y.a,{item:!0,xs:12,md:4,lg:3,key:e.id},r.a.createElement(Tt,{collection:e}))}))))):r.a.createElement(st,null)),(null===f||void 0===f?void 0:null===(a=f.data)||void 0===a?void 0:a.individualCollections)?r.a.createElement(et,{onClick:function(e){var t=m+e;o(t,l,i),d(t)},currentPage:m,totalPages:f.data.totalPages}):null)})),xt=function(e){var t=e.history,a=Object(n.useState)("Short story"),o=Object(p.a)(a,2),i=o[0],l=o[1],s=function(e){l(e)},c=["Issues","Book series"].includes(i);return r.a.createElement("div",{className:"admin-page row"},r.a.createElement("div",{className:"admin-navbar column"},r.a.createElement("div",{className:"admin-navbar__title row"},r.a.createElement("h1",null,"TEAHOUSE"),r.a.createElement(Ke.a,{icon:Xe.a,size:"lg",color:"rgba(186, 160, 160,0.8)"})),r.a.createElement("div",null,r.a.createElement(ht,{title:"STORIES",onClick:s,type:"Short story"}),r.a.createElement(ht,{title:"POEMS",onClick:s,type:"Poem"}),r.a.createElement(ht,{title:"BOOK SERIES",onClick:s,type:"Book series"}),r.a.createElement(ht,{title:"ISSUES",onClick:s,type:"Issues"}),r.a.createElement(ht,{title:"INTERVIEWS",onClick:s,type:"Interview"}),r.a.createElement(ht,{title:"LIT NEWS",onClick:s,type:"Lit news"}),r.a.createElement(ht,{title:"GOSSIPING",onClick:s,type:"Gossip"})),r.a.createElement("div",{className:"logout-btn",onClick:function(){localStorage.removeItem("token"),t.push("/")}},r.a.createElement(Ke.a,{icon:Xe.e,size:"lg",color:"rgba(0,0,0,0.25)"}),r.a.createElement("span",{className:"item__title"},"LOGOUT"))),r.a.createElement("div",{className:"admin-content"},c?r.a.createElement(At,{activeContent:i}):r.a.createElement(wt,{activeContent:i})),r.a.createElement(ft,null))},Lt=function(e){return function(t){function a(){var e,t;Object(ae.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(re.a)(this,(e=Object(oe.a)(a)).call.apply(e,[this].concat(r)))).componentDidMount=function(){var e=localStorage.getItem("token"),a=t.props.history;e||a.replace("/login")},t}return Object(ie.a)(a,t),Object(ne.a)(a,[{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),a}(n.Component)},Ut=(a(232),function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).state={error:"",value:""},a.handleFileChange=function(e){var t=e.target,n=t.files,r=t.name,o=a.props.onChangeHandler;a.setState({value:n[0]}),o(r,n[0])},a}return Object(ie.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props,t=e.error,a=e.name,n=e.title,o=e.type;return r.a.createElement("div",{className:"upload_btn_container"},r.a.createElement("p",null,n),r.a.createElement("div",null,r.a.createElement("div",{className:"upload_button"},r.a.createElement("input",{type:"file",name:a,id:a,onChange:this.handleFileChange,accept:o}))),r.a.createElement("div",{className:"error"},r.a.createElement("span",null,t)))}}]),t}(n.Component)),Dt=(a(233),Object(l.b)((function(e){return{createCollection:e.createCollection}}),(function(e){return{sendCollection:function(t,a){return e(function(e,t){return function(a){var n,r,o,i,l;return Oe.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,a({type:"CREATE_COLLECTION_REQUEST"}),n=e.file,r=e.previewImage,(o=new FormData).append("file",n,n.name),o.append("previewImage",r,r.name),o.append("author",e.author),o.append("title",e.title),o.append("type",e.type),i=localStorage.getItem("token"),s.next=13,Oe.a.awrap(we.post("".concat("http://localhost:5000/api/v1","/collections"),o,{headers:{Authorization:"Bearer ".concat(i)}}));case 13:l=s.sent,a({type:"CREATE_COLLECTION_SUCCESS",payload:l.data}),t.push("/collections/".concat(l.data.createdCollection.id)),s.next=21;break;case 18:s.prev=18,s.t0=s.catch(0),Re("CREATE_COLLECTION_ERROR",s.t0,t,a);case 21:case"end":return s.stop()}}),null,null,[[0,18]])}}(t,a))}}}))((function(e){var t=e.createCollection,a=t.apiInProgress,o=t.createCollectionResponse,i=Object(n.useState)({type:"Book series"}),l=Object(p.a)(i,2),s=l[0],c=l[1],u=Object(n.useState)({}),m=Object(p.a)(u,2),d=m[0],E=m[1],h=function(e,t){c(Object(be.a)({},s,Object(R.a)({},e,t)))};return o&&De(o),r.a.createElement("div",{className:"column create-collection"},r.a.createElement("div",{className:"intro"},r.a.createElement("h4",null,"Upload a Book/Issue")),r.a.createElement(ge,{name:"title",title:"Book title",error:d.title,onChangeHandler:h}),r.a.createElement(ge,{name:"author",title:"Book author's name",error:d.author,onChangeHandler:h}),r.a.createElement(Ut,{name:"file",onChangeHandler:h,title:"Select file",type:".pdf",error:d.file}),r.a.createElement(Ut,{name:"previewImage",type:"image/*",onChangeHandler:h,title:"Select preview image",error:d.previewImage}),r.a.createElement(Me,{options:["Book series","Issues"],onSelectorChange:h}),r.a.createElement(Se,{title:"Submit",onClick:function(){var t=e.sendCollection,a=e.history,n=function(e){var t=e.file,a=e.previewImage,n=e.title,r=e.author,o=Ae(n).error,i=ke(r).error,l=je(t).error,s=je(a).error;return o?{title:o}:i?{author:i}:l?{file:l}:s?{previewImage:s}:null}(s);if(n)return E(Object(be.a)({},n));t(s,a)},disabled:a}))}))),Wt=(a(106),function(e){var t=e.collection,a=t.previewUrl,n=t.collectionUrl,o=t.title,i=t.author,l=t.createdAt;return r.a.createElement("div",{className:"book-card"},r.a.createElement("img",{src:a,alt:"",className:"book_preview_image"}),r.a.createElement("a",{href:n,rel:"noopener noreferrer",target:"_blank"},o),r.a.createElement("p",null,"Author: ",i),r.a.createElement("p",null,"Published: ",jt(l)))}),Bt=Object(l.b)((function(e){return{allCollections:e.allCollections}}),(function(e){return{fetchAllCollections:function(t,a,n){return e(Rt(t,a,n))}}}))((function(e){var t=Object(n.useState)(1),a=Object(p.a)(t,2),o=a[0],i=a[1],l=e.fetchAllCollections,s=e.location.pathname,c=e.history,u=e.allCollections,m=u.apiInProgress,d=u.allCollectionsResponse,E=function(e,t){return"/book-series"===e?"Book series":"/issues"===e?"Issues":void t.push("/not-found")}(s,c);Object(n.useEffect)((function(){l(o,E,c)}),[l,E,c,o]);return r.a.createElement("div",{className:"story-poem-container"},m?r.a.createElement(ot,null):d&&d.data&&d.data.collections.length?r.a.createElement("div",null,r.a.createElement("div",{className:"collections-list row"},d.data.collections.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(Wt,{collection:e}))}))),r.a.createElement(et,{onClick:function(e){l(o+e,E,c),i(o+e)},currentPage:o,totalPages:d.data.totalPages})):r.a.createElement(st,null))})),zt=(a(234),Object(l.b)((function(e){return{resetPassword:e.resetPassword}}),(function(e){return{resetPasswordRequest:function(t,a){return e(function(e,t){return function(a){var n;return Oe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:"REQUEST_RESET_PASSWORD_REQUEST"}),r.next=4,Oe.a.awrap(we.post("/users/reset-password",{email:e}));case 4:n=r.sent,a({type:"REQUEST_RESET_PASSWORD_SUCCESS",payload:n.data}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),Re("REQUEST_RESET_PASSWORD_ERROR",r.t0,t,a);case 11:case"end":return r.stop()}}),null,null,[[0,8]])}}(t,a))}}}))((function(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(""),s=Object(p.a)(l,2),c=s[0],u=s[1],m=e.resetPassword,d=m.apiInProgress,E=m.requestResetPasswordResponse;return E&&De(E),r.a.createElement("div",{className:"reset-password__container"},r.a.createElement("div",null,r.a.createElement(ge,{title:"Type your email",name:"email",error:c,onChangeHandler:function(e,t){i(t)}}),r.a.createElement(Se,{title:"Send",onClick:function(){var t=e.resetPasswordRequest,a=e.history,n=_e(o).error;if(n)return u(n);t(o,a)},disabled:d,className:"reset-password__button"})))}))),Mt=Object(l.b)((function(e){return{resetPassword:e.resetPassword}}),(function(e){return{sendNewPassword:function(t,a,n){return e(function(e,t,a){return function(n){var r;return Oe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,n({type:"RESET_PASSWORD_REQUEST"}),o.next=4,Oe.a.awrap(we.put("users/reset-password/".concat(t),{password:e}));case 4:r=o.sent,n({type:"RESET_PASSWORD_SUCCESS",payload:r.data}),a.replace("/login"),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(0),Re("RESET_PASSWORD_ERROR",o.t0,a,n);case 12:case"end":return o.stop()}}),null,null,[[0,9]])}}(t,a,n))}}}))((function(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(),s=Object(p.a)(l,2),c=s[0],u=s[1],m=e.sendNewPassword,d=e.history,E=e.match.params.token,h=e.resetPassword,f=h.apiInProgress,b=h.resetPasswordResponse;return b&&De(b),r.a.createElement("div",{className:"reset-password__container"},r.a.createElement(ge,{title:"Type your new password",name:"password",error:c,onChangeHandler:function(e,t){i(t)}}),r.a.createElement(Se,{title:"Send",onClick:function(){var e=Ne(o).error;if(e)return u(e);m(o,E,d)},disabled:f,className:"reset-password__button"}))})),Ht=(a(235),function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).state={errors:{},type:"Short story"},a.submitWork=function(){var e=a.props.sendSubmission,t=a.state,n=t.fullName,r=t.email,o=t.type,i=t.file,l=Le(n,r,i);if(l)return a.setState({errors:Object(be.a)({},l)});e({fullName:n,email:r,type:o,file:i})},a.onInputChangeHandler=function(e,t){a.setState(Object(R.a)({},e,t))},a.componentWillReceiveProps=function(e){var t=e.submissionResponse;t&&t!==a.props.submissionResponse&&De(t)},a}return Object(ie.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props.apiInProgress,t=this.state.errors;return r.a.createElement("div",{className:"submit_section"},r.a.createElement("div",{className:"inputs"},r.a.createElement(ge,{title:"Full name",name:"fullName",error:t.fullName,onChangeHandler:this.onInputChangeHandler}),r.a.createElement(ge,{title:"Email",name:"email",error:t.email,onChangeHandler:this.onInputChangeHandler}),r.a.createElement(Me,{onSelectorChange:this.onInputChangeHandler,options:["Short story","Poem","Book series","Issues"]}),r.a.createElement(Ut,{name:"file",title:"Select a file",type:".pdf",onChangeHandler:this.onInputChangeHandler,error:t.file}),r.a.createElement(Se,{title:"Submit",className:"submit_btn",onClick:this.submitWork,disabled:e})))}}]),t}(n.Component)),Qt=Object(l.b)((function(e){var t=e.submitWork;return Object(be.a)({},t)}),(function(e){return{sendSubmission:function(t){return e(function(e){return function(t){var a,n,r;return Oe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t({type:"SUBMISSIONS_REQUEST"}),a=e.file,(n=new FormData).append("file",a,a.name),n.append("fullName",e.fullName),n.append("email",e.email),n.append("type",e.type),o.next=10,Oe.a.awrap(we.post("/users/submission",n));case 10:r=o.sent,t({type:"SUBMISSIONS_SUCCESS",payload:{message:r.data.message}}),o.next=17;break;case 14:o.prev=14,o.t0=o.catch(0),t({type:"SUBMISSIONS_ERROR",payload:{error:o.t0.response.data.error}});case 17:case"end":return o.stop()}}),null,null,[[0,14]])}}(t))}}}))(Ht),Gt=function(){return r.a.createElement(u.a,null,r.a.createElement("div",{style:{paddingBottom:"7rem"}},r.a.createElement("div",null,r.a.createElement(x,null)),r.a.createElement("div",{style:{marginTop:65}},r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:pe}),r.a.createElement(m.a,{exact:!0,path:"/directions",component:fe}),r.a.createElement(m.a,{exact:!0,path:"/submissions",component:Qt}),r.a.createElement(m.a,{exact:!0,path:"/login",component:Be}),r.a.createElement(m.a,{exact:!0,path:"/create",component:Lt(qe)}),r.a.createElement(m.a,{exact:!0,path:"/createCollection",component:Lt(Dt)}),r.a.createElement(m.a,{exact:!0,path:"/short-stories",component:ut}),r.a.createElement(m.a,{exact:!0,path:"/poems",component:ut}),r.a.createElement(m.a,{exact:!0,path:"/individual-pieces/:id",component:Et}),r.a.createElement(m.a,{exact:!0,path:"/individual-pieces/edit/:id",component:Lt(qe)}),r.a.createElement(m.a,{exact:!0,path:"/book-series",component:Bt}),r.a.createElement(m.a,{exact:!0,path:"/issues",component:Bt}),r.a.createElement(m.a,{exact:!0,path:"/admin",component:Lt(xt)}),r.a.createElement(m.a,{exact:!0,path:"/reset-password",component:zt}),r.a.createElement(m.a,{exact:!0,path:"/reset-password/:token",component:Mt}),r.a.createElement(m.a,{component:mt})))),r.a.createElement(m.a,{component:te}))},Vt=a(32),Zt=a(130),qt=a(131),Ft={apiInProgress:0},Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUBMISSIONS_ERROR":return Object(be.a)({},e,{submissionResponse:Object(be.a)({},t.payload),apiInProgress:e.apiInProgress-1});case"SUBMISSIONS_REQUEST":return Object(be.a)({},e,{apiInProgress:e.apiInProgress+1});case"SUBMISSIONS_SUCCESS":return Object(be.a)({},e,{apiInProgress:e.apiInProgress-1,submissionResponse:Object(be.a)({},t.payload)});default:return e}},$t={apiInProgress:0},Jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return Object(be.a)({},e,{submissionResponse:Object(be.a)({},t.payload),apiInProgress:e.apiInProgress-1});case"LOGIN_REQUEST":return Object(be.a)({},e,{apiInProgress:e.apiInProgress+1});case"LOGIN_SUCCESS":return Object(be.a)({},e,{submissionResponse:Object(be.a)({},t.payload),apiInProgress:e.apiInProgress-1});default:return e}},Kt={apiInProgress:0},Xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATION_ERROR":return Object(be.a)({},e,{creationResponse:Object(be.a)({},t.payload),apiInProgress:e.apiInProgress-1});case"CREATION_REQUEST":return Object(be.a)({},e,{apiInProgress:e.apiInProgress+1});case"CREATION_SUCCESS":return Object(be.a)({},e,{creationResponse:Object(be.a)({},t.payload),apiInProgress:e.apiInProgress-1});default:return e}},ea={apiInProgress:0},ta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_PIECES_REQUEST":return Object(be.a)({},e,{apiInProgress:e.apiInProgress+1});case"ALL_PIECES_SUCCESS":case"ALL_PIECES_ERROR":return Object(be.a)({},e,{apiInProgress:e.apiInProgress-1,allPiecesResponse:Object(be.a)({},t.payload)});default:return e}},aa={apiInProgress:0},na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INDIVIDUAL_PIECE_REQUEST":return Object(be.a)({},e,{apiInProgress:e.apiInProgress+1});case"INDIVIDUAL_PIECE_SUCCESS":case"INDIVIDUAL_PIECE_ERROR":return Object(be.a)({},e,{apiInProgress:e.apiInProgress-1,individualPieceResponse:Object(be.a)({},t.payload)});default:return e}},ra={apiInProgress:0},oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_PIECE_ERROR":return Object(be.a)({},e,{deletePieceResponse:Object(be.a)({},t.payload),apiInProgress:e.apiInProgress-1});case"DELETE_PIECE_REQUEST":return Object(be.a)({},e,{apiInProgress:e.apiInProgress+1});case"DELETE_PIECE_SUCCESS":return Object(be.a)({},e,{deletePieceResponse:Object(be.a)({},t.payload),apiInProgress:e.apiInProgress-1});default:return e}},ia={apiInProgress:0},la=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_PIECE_ERROR":return Object(be.a)({},e,{editPieceResponse:Object(be.a)({},t.payload),apiInProgress:e.apiInProgress-1});case"EDIT_PIECE_REQUEST":return Object(be.a)({},e,{apiInProgress:e.apiInProgress+1});case"EDIT_PIECE_SUCCESS":return Object(be.a)({},e,{editPieceResponse:Object(be.a)({},t.payload),apiInProgress:e.apiInProgress-1});default:return e}},sa={apiInProgress:0},ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_COLLECTION_ERROR":return Object(be.a)({},e,{createCollectionResponse:Object(be.a)({},t.payload),apiInProgress:e.apiInProgress-1});case"CREATE_COLLECTION_REQUEST":return Object(be.a)({},e,{apiInProgress:e.apiInProgress+1});case"CREATE_COLLECTION_SUCCESS":return Object(be.a)({},e,{apiInProgress:e.apiInProgress-1,createCollectionResponse:Object(be.a)({},t.payload)});default:return e}},ua={apiInProgress:0},ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_COLLECTIONS_REQUEST":return Object(be.a)({},e,{apiInProgress:e.apiInProgress+1});case"ALL_COLLECTIONS_SUCCESS":case"ALL_COLLECTIONS_ERROR":return Object(be.a)({},e,{apiInProgress:e.apiInProgress-1,allCollectionsResponse:Object(be.a)({},t.payload)});default:return e}},pa={apiInProgress:0},da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_PASSWORD_ERROR":return Object(be.a)({},e,{resetPasswordResponse:Object(be.a)({},t.payload),apiInProgress:e.apiInProgress-1});case"RESET_PASSWORD_REQUEST":return Object(be.a)({},e,{apiInProgress:e.apiInProgress+1});case"RESET_PASSWORD_SUCCESS":return Object(be.a)({},e,{resetPasswordResponse:Object(be.a)({},t.payload),apiInProgress:e.apiInProgress-1});case"REQUEST_RESET_PASSWORD_ERROR":return Object(be.a)({},e,{requestResetPasswordResponse:Object(be.a)({},t.payload),apiInProgress:e.apiInProgress-1});case"REQUEST_RESET_PASSWORD_REQUEST":return Object(be.a)({},e,{apiInProgress:e.apiInProgress+1});case"REQUEST_RESET_PASSWORD_SUCCESS":return Object(be.a)({},e,{requestResetPasswordResponse:Object(be.a)({},t.payload),apiInProgress:e.apiInProgress-1});default:return e}},Ea=Object(Vt.combineReducers)({submitWork:Yt,login:Jt,createStoryPoem:Xt,allPieces:ta,individualPiece:na,deletedPiece:oa,editedPiece:la,createCollection:ca,allCollections:ma,resetPassword:da}),ha=Object(Vt.createStore)(Ea,Object(qt.composeWithDevTools)(Object(Vt.applyMiddleware)(Zt.a))),fa=(a(236),Object(s.a)({palette:{background:{default:"white"}}})),ba=function(){return r.a.createElement(c.a,{theme:fa},r.a.createElement(l.a,{store:ha},r.a.createElement(Gt,null),r.a.createElement(Ue.a,{autoClose:3e3})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ba,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},65:function(e,t,a){},90:function(e,t,a){}},[[144,1,2]]]);
//# sourceMappingURL=main.c267931a.chunk.js.map